let MAX_PRODUCT_COUNT=10,cart,country;function loadCart(){var e=JSON.parse(localStorage.getItem("cart")||"{}");cart=Object.fromEntries(Object.entries(e).filter(([,{addedAt:e}])=>isNewerThanNDaysAgo(e))),displayCartSize()}function isNewerThanNDaysAgo(e){var t=new Date,r=new Date;return r.setDate(t.getDate()-15),new Date(e)>r}function saveCart(){localStorage.setItem("cart",JSON.stringify(cart)),displayCartSize()}function displayCartSize(){var e,t=document.getElementsByClassName("cartSize"),r=Object.values(cart).reduce((e,t)=>e+t.qty,0);for(e of t)r?(e.textContent=9<r?"9+":r,e.classList.remove("invisible"),e.classList.add("visible")):(e.classList.remove("visible"),e.classList.add("invisible"))}function getProductVariant(e){return[e,document.querySelector(`.productColor-${e}.active`)?.getAttribute("data-value"),document.querySelector(`.productSize-${e}.active`)?.getAttribute("data-value")].filter(Boolean).map(e=>e.toLowerCase()).join("-")}function getProductQty(e){e=document.getElementById("productQty-"+e);return parseInt(e.value)??0}function getProductQtyEl(e){e=document.getElementById("productQty-"+e);return{el:e,qty:parseInt(e?.value)??0}}function incrementProduct(e){e=getProductQtyEl(e);e.qty<MAX_PRODUCT_COUNT&&(e.el.value=e.qty+1)}function decrementProduct(e){e=getProductQtyEl(e);1<e.qty&&(e.el.value=e.qty-1)}function validateAndSetProductQuntity(e){e=getProductQtyEl(e);e.qty<1?e.el.value=1:e.qty>MAX_PRODUCT_COUNT&&(e.el.value=MAX_PRODUCT_COUNT)}function selectColor(e,t){var r;for(r of document.getElementsByClassName("productColor-"+t))r.classList.remove("active");e.classList.add("active")}function selectSize(e,t){var r;for(r of document.getElementsByClassName("productSize-"+t))r.classList.remove("active");e.classList.add("active"),products[t].isSizeBasedPrice&&(products[t].size=e.dataset.value,updateProductPrice(t))}function addProductToCart(e){var t=getProductVariant(e),r=getProductQty(e),o=products[e].title,a=products[e].image,c=document.querySelector(`.productColor-${e}.active`)?.getAttribute("data-value"),n=document.querySelector(`.productSize-${e}.active`)?.getAttribute("data-value"),s=products[e].isSizeBasedPrice?products[e].price[n]:products[e].price,i=products[e].stripePrices[t],l=[o,c,n].filter(Boolean).join(" / "),u=new Date;cart[t]={pvk:t,pk:e,productVariantName:l,productName:o,productImg:a,color:c,size:n,qty:r,price:s,stripePrices:i,addedAt:u},saveCart()}function buyProductNow(e){try{var t=getProductVariant(e),r=getProductQty(e);redirectToStripeCheckout([{price:getStripePrices(products[e].stripePrices[t])[currency],quantity:r}])}catch(e){showError(e.message)}}function restoreProductsQty(){for(var e in cart){var t,r,e=cart[e],o=getProductQtyEl(e.pk);if(o.el){if(o.el.value=e.qty,e.color){for(t of document.getElementsByClassName("productColor-"+e.pk))t.classList.remove("active");document.getElementById(`productColor-${e.pk}-`+e.color)?.classList.add("active")}if(e.size){for(r of document.getElementsByClassName("productSize-"+e.pk))r.classList.remove("active");document.getElementById(`productSize-${e.pk}-`+e.size)?.classList.add("active")}}}}function initCart(){loadCart(),restoreProductsQty(),selectCountry(country=JSON.parse(localStorage.getItem("country"))||getCountryCode()),selectCurrency(currency=JSON.parse(localStorage.getItem("currency"))||getCurrencyFromLocale()),urgencyMessage()}function incrementItem(e){cart[e].qty<MAX_PRODUCT_COUNT&&(cart[e].qty+=1,document.getElementById("itemQty-"+e).value=cart[e].qty,saveCart(),displayCartTotal())}function decrementItem(e){1<cart[e].qty&&(--cart[e].qty,document.getElementById("itemQty-"+e).value=cart[e].qty,saveCart(),displayCartTotal())}function clearItem(e){delete cart[e],saveCart(),displayCartTotal(),displayCart()}function getArrangedItems(e){var t,r={};for(t of Object.values(e))t.pk in r?r[t.pk].push(t):r[t.pk]=[t];return Object.values(r).flat(1)}function displayCart(){var t=document.getElementById("cartForm");if(t){var r=Object.keys(cart).length;if(r){var o,a=document.getElementById("cartItems");a.innerHTML="";let e=0;for(o of getArrangedItems(cart)){var c=o.pvk,n=document.createElement("div");n.classList.add("flex","flex-col","sm:flex-row","items-center","gap-3","sm:gap-6","bg-gray-100","dark:bg-gray-900","p-4","rounded-lg","shadow","sm:w-full","md:min-w-2xl"),n.innerHTML=`
          <img src="${o.productImg}" alt="${o.productName}" class="w-60 h-60 object-cover rounded-lg">
          <div class="mt-4 flex-1">
            <h2 class="text-lg font-medium text-slate-900 dark:text-white">${o.productVariantName}</h2>
            <p class="text-gray-500 dark:text-gray-400">${formatCurrency(o.price[currency])}</p>
          </div>
          <div class="mt-4 flex gap-3 items-center justify-between">
            <div class="relative flex items-center max-w-[8rem]">
              <button type="button" onclick="decrementItem('${c}')"
                class="cursor-pointer bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-s-lg px-3 h-12 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none">
                <svg class="w-3 h-3 text-gray-900 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"/>
                </svg>
              </button>
              <input type="text" id="itemQty-${c}" data-input-counter aria-describedby="helper-text-explanation"
                class="bg-gray-50 border-x-0 border-gray-300 h-12 text-center text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-12 py-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="1" value="${o.qty}" required />
              <button type="button" onclick="incrementItem('${c}')"
                class="cursor-pointer bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-e-lg px-3 h-12 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none">
                <svg class="w-3 h-3 text-gray-900 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                </svg>
              </button>
            </div>
          </div>
          ${1<r?`<div onclick="clearItem('${c}')" class="hidden sm:flex flex-col items-starts h-60">
            <button class="text-gray-500 dark:text-gray-400 hover:text-red-500 text-xl cursor-pointer">&times;</button>
          </div>`:""}
        `,a.appendChild(n),e+=o.price[currency]*o.qty}document.getElementById("cartTotal").textContent=formatCurrency(e),document.getElementById("emptyCart").classList.add("hidden"),t.classList.remove("hidden")}else t.classList.add("hidden"),document.getElementById("emptyCart").classList.remove("hidden")}}function displayCartTotal(){var e=Object.values(cart).reduce((e,t)=>e+t.price[currency]*t.qty,0);document.getElementById("cartTotal").textContent=formatCurrency(e)}function formatCurrency(e){return new Intl.NumberFormat(locale,{style:"currency",currency:currency}).format(e)}document.addEventListener("DOMContentLoaded",initCart);let countryLocale={AU:"en-AU",AT:"de-AT",BE:"nl-BE",BG:"bg-BG",CA:"en-CA",HR:"hr-HR",CY:"el-CY",CZ:"cs-CZ",DK:"da-DK",EE:"et-EE",FI:"fi-FI",FR:"fr-FR",DE:"de-DE",GR:"el-GR",HK:"zh-HK",HU:"hu-HU",IE:"en-IE",IL:"he-IL",IT:"it-IT",JP:"ja-JP",LV:"lv-LV",LT:"lt-LT",LU:"lb-LU",MY:"ms-MY",MT:"mt-MT",NL:"nl-NL",NZ:"en-NZ",NO:"no-NO",PL:"pl-PL",PT:"pt-PT",RO:"ro-RO",SG:"en-SG",SK:"sk-SK",SI:"sl-SI",KR:"ko-KR",ES:"es-ES",SE:"sv-SE",CH:"de-CH",AE:"ar-AE",GB:"en-GB",US:"en-US"},countryCurrency={AU:"AUD",AT:"EUR",BE:"EUR",BG:"BGN",CA:"CAD",HR:"EUR",CY:"EUR",CZ:"CZK",DK:"DKK",EE:"EUR",FI:"EUR",FR:"EUR",DE:"EUR",GR:"EUR",HK:"HKD",HU:"HUF",IE:"EUR",IL:"ILS",IT:"EUR",JP:"JPY",LV:"EUR",LT:"EUR",LU:"EUR",MY:"MYR",MT:"EUR",NL:"EUR",NZ:"NZD",NO:"NOK",PL:"PLN",PT:"EUR",RO:"RON",SG:"SGD",SK:"EUR",SI:"EUR",KR:"KRW",ES:"EUR",SE:"SEK",CH:"CHF",AE:"AED",GB:"GBP",US:"USD"};function selectCountry(e){var t;country=e,locale=countryLocale[e];for(t of document.getElementsByClassName("countrySelect"))t.value=e;displayCart(),saveCountry(),updateAllProductsPrices()}let countryCodes=new Set(["AU","AT","BE","BG","CA","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HK","HU","IE","IL","IT","JP","LV","LT","LU","MY","MT","NL","NZ","NO","PL","PT","RO","SG","SK","SI","KR","ES","SE","CH","AE","GB","US"]);function getCountryCode(){var e=Intl.DateTimeFormat().resolvedOptions().locale.split("-").pop();return countryCodes.has(e)?e:defaultCountry}function saveCountry(){localStorage.setItem("country",JSON.stringify(country))}function selectCurrency(e){var t;currency=e;for(t of document.getElementsByClassName("currencySelect"))t.value=e;displayCart(),saveCurrency(),updateAllProductsPrices()}function updateAllProductsPrices(){var e,t;for(e of document.getElementsByClassName("productPrice")){var r=e.getAttribute("data-pk");e.textContent=formatCurrency(getProductPrice(r))}for(t of document.getElementsByClassName("productOldPrice")){var o=t.getAttribute("data-pk");t.textContent=formatCurrency(getProductOldPrice(o))}}function updateProductPrice(e){var t,r;for(t of document.querySelectorAll(`.productPrice[data-pk="${e}"]`))t.textContent=formatCurrency(getProductPrice(e));for(r of document.querySelectorAll(`.productOldPrice[data-pk="${e}"]`))r.textContent=formatCurrency(getProductOldPrice(e))}let elements=document.querySelectorAll('.your-class-name[data-your-data-attribute="your-data-value"]');function getProductPrice(e){return(products[e].isSizeBasedPrice?products[e].price[products[e].size]:products[e].price)[currency]}function getProductOldPrice(e){return 2*getProductPrice(e)}function getCurrencyFromLocale(){var e=Intl.DateTimeFormat().resolvedOptions().locale.split("-").pop();if(countryCodes.has(e)){let t=countryCurrency[e];if(Array.from(document.querySelectorAll("select.currencySelect option")).some(e=>e.value===t))return t}return defaultCurrency}function saveCurrency(){localStorage.setItem("currency",JSON.stringify(currency))}function checkout(){try{var e,t=[];for(e in cart){var r=cart[e],o=getStripePrices(r.stripePrices);t.push({price:o[currency],quantity:r.qty})}redirectToStripeCheckout(t)}catch(e){showError(e.message)}}function redirectToStripeCheckout(e){var t=document.querySelector("meta[name='sfkey']").content,t=Stripe(t),r=Array.from(document.querySelectorAll("select.countrySelect option")).map(e=>e.value);t.redirectToCheckout({lineItems:e,mode:"payment",successUrl:window.location.origin+"/success.html?oid=5HkxGr80yCFm&t="+(Date.now()+9e7),cancelUrl:window.location.origin,shippingAddressCollection:{allowedCountries:r}}).then(function(e){e.error&&showError(e.error.message)})}function showError(e){var t=document.getElementById("errorsSection");let r=document.createElement("div");r.className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",r.setAttribute("role","alert"),r.innerHTML=`
    <strong class="font-bold">Error occurred!</strong>
    <span class="block sm:inline">${e||"Unknown error."}</span>
    <span class="block sm:inline">Please try again later.</span>
    <span class="absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer">
      <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
        <title>Close</title>
        <path
          d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
      </svg>
    </span>`,r.querySelector("span:last-child").onclick=()=>r.remove(),t.appendChild(r),setTimeout(()=>{r.remove()},15e3)}function getStripePrices(e){let r=document.querySelector("meta[name='dk']").content;return JSON.parse(e.match(/.{1,2}/g).map((e,t)=>String.fromCharCode(parseInt(e,16)^r.charCodeAt(t%r.length))).join(""))}function urgencyMessage(){var e,t=["Limited stock! üî• Don‚Äôt miss out ‚Äî this item is selling fast.","Selling quickly! üöÄ Make it yours before it‚Äôs gone.","Almost gone! ‚è≥ Order now while supplies last.","Hot item! üî• Others are adding this to their carts right now.","Popular pick! üí• Secure yours before it's out of stock.","Don‚Äôt wait! ‚è∞ High demand and limited availability.","Going fast! ‚ö° This deal won‚Äôt last long.","Act fast! üõçÔ∏è Inventory is running low.","Grab it now! üéØ Before someone else does.","Last chance! ‚è≥ This product won‚Äôt stay on the shelf."];for(e of document.getElementsByClassName("urgencyMsg")){var r=Math.floor(Math.random()*t.length);e.textContent=t[r]}}